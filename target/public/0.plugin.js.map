{"version":3,"file":"0.plugin.js","sources":["/plugin:eaPortal/plugins/ea_portal/public/application.tsx","/plugin:eaPortal/plugins/ea_portal/public/components/ADPs.js","/plugin:eaPortal/plugins/ea_portal/public/components/app.tsx"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderApp = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _app = require(\"./components/app\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst renderApp = ({\n  notifications,\n  http\n}, {\n  navigation\n}, {\n  appBasePath,\n  element\n}) => {\n  _reactDom.default.render(_react.default.createElement(_app.EaPortalApp, {\n    basename: appBasePath,\n    notifications: notifications,\n    http: http,\n    navigation: navigation\n  }), element);\n\n  return () => _reactDom.default.unmountComponentAtNode(element);\n};\n\nexports.renderApp = renderApp;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _eui = require(\"@elastic/eui\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction cards(buildingBlocks, setFlyoutVisibility) {\n  const cardNodes = Object.keys(buildingBlocks).map(function (key, index) {\n    return _react.default.createElement(_eui.EuiFlexItem, {\n      style: {\n        width: 400\n      },\n      grow: false,\n      key: index\n    }, _react.default.createElement(_eui.EuiCard, {\n      icon: _react.default.createElement(_eui.EuiIcon, {\n        size: \"xl\",\n        type: \"usersRolesApp\"\n      }),\n      title: buildingBlocks[key]['name'],\n      description: buildingBlocks[key]['description'],\n      betaBadgeLabel: buildingBlocks[key]['entity'],\n      onClick: () => setFlyoutVisibility(true, buildingBlocks[key], key)\n    }));\n  });\n  return cardNodes;\n}\n\nfunction flyout(isFlyoutVisible, setFlyoutVisibility, handleInputChange, handleSubmit, id, name, description, events, entity, expressionType, expression, entitiesList, eventsList, handleEntitySelection, handleEventSelection) {\n  let flyout;\n\n  if (isFlyoutVisible) {\n    flyout = _react.default.createElement(_eui.EuiFlyout, {\n      onClose: () => setFlyoutVisibility(false),\n      \"aria-labelledby\": \"flyoutTitle\",\n      size: 'm',\n      maxWidth: 750\n    }, _react.default.createElement(_eui.EuiFlyoutHeader, {\n      hasBorder: true\n    }, _react.default.createElement(_eui.EuiTitle, {\n      size: \"m\"\n    }, _react.default.createElement(\"h2\", {\n      id: \"flyoutTitle\"\n    }, name))), _react.default.createElement(_eui.EuiFlyoutBody, null, _react.default.createElement(_eui.EuiFormRow, {\n      fullWidth: true,\n      label: \"ID\"\n    }, _react.default.createElement(_eui.EuiFieldText, {\n      fullWidth: true,\n      name: \"id\",\n      value: id,\n      onChange: e => handleInputChange(e)\n    })), _react.default.createElement(_eui.EuiFormRow, {\n      fullWidth: true,\n      label: \"Name\"\n    }, _react.default.createElement(_eui.EuiFieldText, {\n      fullWidth: true,\n      name: \"name\",\n      value: name,\n      onChange: e => handleInputChange(e)\n    })), _react.default.createElement(_eui.EuiFormRow, {\n      fullWidth: true,\n      label: \"Description\"\n    }, _react.default.createElement(_eui.EuiFieldText, {\n      fullWidth: true,\n      name: \"description\",\n      value: description,\n      onChange: e => handleInputChange(e)\n    })), _react.default.createElement(_eui.EuiFormRow, {\n      fullWidth: true,\n      label: \"Events\"\n    }, _react.default.createElement(_eui.EuiComboBox, {\n      fullWidth: true,\n      selectedOptions: events,\n      options: eventsList,\n      onChange: e => handleEventSelection(e)\n    })), _react.default.createElement(_eui.EuiFormRow, {\n      fullWidth: true,\n      label: \"Entity\"\n    }, _react.default.createElement(_eui.EuiComboBox, {\n      singleSelection: {\n        asPlainText: true\n      },\n      fullWidth: true,\n      selectedOptions: entity,\n      options: entitiesList,\n      onChange: e => handleEntitySelection(e)\n    })), _react.default.createElement(_eui.EuiFormRow, {\n      fullWidth: true,\n      label: \"Type\"\n    }, _react.default.createElement(_eui.EuiFieldText, {\n      fullWidth: true,\n      name: \"expressionType\",\n      value: expressionType,\n      onChange: e => handleInputChange(e)\n    })), _react.default.createElement(_eui.EuiFormRow, {\n      fullWidth: true,\n      label: \"Snippet\"\n    }, _react.default.createElement(_eui.EuiTextArea, {\n      fullWidth: true,\n      name: \"expression\",\n      value: expression,\n      onChange: e => handleInputChange(e)\n    })), _react.default.createElement(_eui.EuiFormRow, {\n      display: \"center\"\n    }, _react.default.createElement(_eui.EuiButton, {\n      type: \"submit\",\n      fill: true,\n      onClick: e => handleSubmit(e)\n    }, \"Submit\"))));\n  }\n\n  return flyout;\n}\n\nclass ADPs extends _react.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      buildingBlocks: {},\n      flyoutVisibility: false,\n      selectedBuildingBlock: {}\n    };\n    this.setFlyoutVisibility = this.setFlyoutVisibility.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleEventSelection = this.handleEventSelection.bind(this);\n    this.handleEntitySelection = this.handleEntitySelection.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let selectedEvents = [];\n    this.state.events.map((item, index) => {\n      selectedEvents.push(item['label']);\n    });\n    let thisBuildingBlock = {\n      'name': this.state.name,\n      'description': this.state.description,\n      'expression': this.state.expression,\n      'entity': this.state.entity[0]['label'],\n      'events': selectedEvents,\n      'expressionType': this.state.expressionType\n    };\n    alert(JSON.stringify(thisBuildingBlock));\n    const requestOptions = {\n      method: 'POST',\n      body: JSON.stringify(thisBuildingBlock)\n    };\n    let thisurl = 'http://localhost:8111/api/v1/adps/'.concat(this.state.id);\n    fetch(thisurl, requestOptions).then(res => res.json()).then(data => {\n      this.setState({\n        buildingBlocks: data\n      });\n    }).catch(console.log);\n    this.setFlyoutVisibility(false, {}, '');\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    if (target.name === 'name') this.setState({\n      name: target.value\n    });\n    if (target.name === 'id') this.setState({\n      id: target.value\n    });\n    if (target.name === 'description') this.setState({\n      description: target.value\n    });\n    if (target.name === 'expression') this.setState({\n      expression: target.value\n    });\n    if (target.name === 'expressionType') this.setState({\n      expressionType: target.value\n    });\n  }\n\n  handleEventSelection(selectedEvent) {\n    this.setState({\n      events: selectedEvent\n    });\n  }\n\n  handleEntitySelection(selectedEntity) {\n    this.setState({\n      entity: selectedEntity\n    });\n  }\n\n  setFlyoutVisibility(visibility, buildingBlock, buildingBlockId) {\n    this.setState({\n      flyoutVisibility: visibility,\n      selectedBuildingBlock: buildingBlock\n    });\n\n    if (visibility) {\n      this.setState({\n        id: buildingBlockId,\n        name: buildingBlock['name'],\n        description: buildingBlock['description'],\n        expression: buildingBlock['expression'],\n        expressionType: buildingBlock['expressionType']\n      });\n      var entityVal = [];\n      entityVal.push({\n        label: buildingBlock['entity']\n      });\n      var eventsVal = [];\n      buildingBlock['events'].map((key, index) => {\n        eventsVal.push({\n          label: key\n        });\n      });\n      this.setState({\n        events: eventsVal,\n        entity: entityVal\n      });\n    }\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:8111/api/v1/adps', {\n      mode: 'cors'\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        buildingBlocks: data\n      });\n    }).catch(console.log);\n    fetch('http://localhost:8111/api/v1/entities', {\n      mode: 'cors'\n    }).then(res => res.json()).then(data => {\n      var options = [];\n      Object.keys(data).map((key, index) => {\n        options.push({\n          label: key\n        });\n      });\n      this.setState({\n        entitiesList: options\n      });\n    }).catch(console.log);\n    fetch('http://localhost:8111/api/v1/events', {\n      mode: 'cors'\n    }).then(res => res.json()).then(data => {\n      var options = [];\n      Object.keys(data).map((key, index) => {\n        options.push({\n          label: key\n        });\n      });\n      this.setState({\n        eventsList: options\n      });\n    }).catch(console.log);\n  }\n\n  render() {\n    return _react.default.createElement(_eui.EuiFlexGroup, {\n      wrap: true,\n      gutterSize: \"l\"\n    }, cards(this.state.buildingBlocks, this.setFlyoutVisibility), flyout(this.state.flyoutVisibility, this.setFlyoutVisibility, this.handleInputChange, this.handleSubmit, this.state.id, this.state.name, this.state.description, this.state.events, this.state.entity, this.state.expressionType, this.state.expression, this.state.entitiesList, this.state.eventsList, this.handleEntitySelection, this.handleEventSelection));\n  }\n\n}\n\nvar _default = ADPs;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EaPortalApp = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _ADPs = _interopRequireDefault(require(\"./ADPs\"));\n\nvar _eui = require(\"@elastic/eui\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nconst EaPortalApp = ({\n  basename,\n  notifications,\n  http,\n  navigation\n}) => {\n  const [selectedItemName, setSelectedItem] = (0, _react.useState)('Lion stuff');\n\n  const selectItem = name => {\n    setSelectedItem(name);\n  };\n\n  const createItem = (name, url, data = {}) => {\n    // NOTE: Duplicate `name` values will cause `id` collisions.\n    return { ...data,\n      id: name,\n      name,\n      isSelected: selectedItemName === name,\n      onClick: () => selectItem(name),\n      href: url\n    };\n  };\n\n  const tabs = [{\n    id: 'events',\n    name: _react.default.createElement(\"span\", null, _react.default.createElement(_eui.EuiIcon, {\n      type: \"aggregate\"\n    }), \"\\xA0EVENTS\"),\n    content: _react.default.createElement(_react.Fragment, null, _react.default.createElement(_eui.EuiSpacer, null), _react.default.createElement(_eui.EuiTitle, null, _react.default.createElement(\"h3\", null, \"Cobalt\")), _react.default.createElement(_eui.EuiText, null, \"Cobalt is a chemical element with symbol Co and atomic number 27. Like nickel, cobalt is found in the Earth\\u2019s crust only in chemically combined form, save for small deposits found in alloys of natural meteoric iron. The free element, produced by reductive smelting, is a hard, lustrous, silver-gray metal.\"))\n  }, {\n    id: 'entities',\n    name: _react.default.createElement(\"span\", null, _react.default.createElement(_eui.EuiIcon, {\n      type: \"users\"\n    }), \"\\xA0ENTITIES\"),\n    content: _react.default.createElement(_react.Fragment, null, _react.default.createElement(_eui.EuiSpacer, null), _react.default.createElement(_eui.EuiTitle, null, _react.default.createElement(\"h3\", null, \"Entities\")), _react.default.createElement(_eui.EuiText, null, \"Entities could be people or airlines or any real world object that we want to collect insights about...\"))\n  }, {\n    id: 'ADPs',\n    name: _react.default.createElement(\"span\", null, _react.default.createElement(_eui.EuiIcon, {\n      type: \"usersRolesApp\"\n    }), \"\\xA0ADPs\"),\n    content: _react.default.createElement(_react.Fragment, null, _react.default.createElement(_eui.EuiSpacer, null), _react.default.createElement(_ADPs.default, null))\n  }, {\n    id: 'states',\n    name: _react.default.createElement(\"span\", null, _react.default.createElement(_eui.EuiIcon, {\n      type: \"tag\"\n    }), \"\\xA0STATES\"),\n    content: _react.default.createElement(_react.Fragment, null, _react.default.createElement(_eui.EuiSpacer, null), _react.default.createElement(_eui.EuiTitle, null, _react.default.createElement(\"h3\", null, \"Monosodium Glutamate\")), _react.default.createElement(_eui.EuiText, null, \"Monosodium glutamate (MSG, also known as sodium glutamate) is the sodium salt of glutamic acid, one of the most abundant naturally occurring non-essential amino acids. Monosodium glutamate is found naturally in tomatoes, cheese and other foods.\"))\n  }, {\n    id: 'entity360',\n    name: _react.default.createElement(\"span\", null, _react.default.createElement(_eui.EuiIcon, {\n      type: \"searchProfilerApp\"\n    }), \"\\xA0ENTITY 360\"),\n    content: _react.default.createElement(_react.Fragment, null, _react.default.createElement(_eui.EuiSpacer, null), _react.default.createElement(_eui.EuiTitle, null, _react.default.createElement(\"h3\", null, \"Monosodium Glutamate\")), _react.default.createElement(_eui.EuiText, null, \"Monosodium glutamate (MSG, also known as sodium glutamate) is the sodium salt of glutamic acid, one of the most abundant naturally occurring non-essential amino acids. Monosodium glutamate is found naturally in tomatoes, cheese and other foods.\"))\n  }]; // Render the application DOM.\n  // Note that `navigation.ui.TopNavMenu` is a stateful component exported on the `navigation` plugin's start contract.\n\n  return _react.default.createElement(_eui.EuiPage, null, _react.default.createElement(_eui.EuiPageBody, {\n    component: \"div\"\n  }, _react.default.createElement(_eui.EuiPageContent, null, _react.default.createElement(_eui.EuiPageContentHeader, null, _react.default.createElement(_eui.EuiPageContentHeaderSection, null, _react.default.createElement(_eui.EuiTitle, null, _react.default.createElement(\"h2\", null, _react.default.createElement(_eui.EuiIcon, {\n    type: \"graphApp\",\n    color: \"primary\",\n    size: \"xl\"\n  }), \"\\xA0\\xA0Entity Analytics\")))), _react.default.createElement(_eui.EuiPageContentBody, null, _react.default.createElement(_eui.EuiTabbedContent, {\n    tabs: tabs,\n    initialSelectedTab: tabs[0]['id'],\n    autoFocus: \"selected\",\n    onTabClick: tab => {\n      console.log('clicked tab', tab);\n    }\n  })))));\n};\n\nexports.EaPortalApp = EaPortalApp;"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}